
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Getting Started with Development Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="contributing.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../glossary.md">
            
                <span>
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../data/">
            
                <a href="../data/">
            
                    
                    Data
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../data/content-areas.html">
            
                <a href="../data/content-areas.html">
            
                    
                    Content Areas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../data/demonstrations.html">
            
                <a href="../data/demonstrations.html">
            
                    
                    Demonstrations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../data/student-competencies.html">
            
                <a href="../data/student-competencies.html">
            
                    
                    Student Competencies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../data/tasks.html">
            
                <a href="../data/tasks.html">
            
                    
                    Tasks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../logic/">
            
                <a href="../logic/">
            
                    
                    Logic
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../logic/missed-demonstrations.html">
            
                <a href="../logic/missed-demonstrations.html">
            
                    
                    Missed Demonstrations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../logic/growth.html">
            
                <a href="../logic/growth.html">
            
                    
                    Growth
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../user_interfaces/">
            
                <a href="../user_interfaces/">
            
                    
                    User Interfaces
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../user_interfaces/competencies/">
            
                <a href="../user_interfaces/competencies/">
            
                    
                    Competency Overview
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../user_interfaces/competencies/teachers.html">
            
                <a href="../user_interfaces/competencies/teachers.html">
            
                    
                    Teacher Competency Dashboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="../user_interfaces/competencies/students.html">
            
                <a href="../user_interfaces/competencies/students.html">
            
                    
                    Student Competency Dashboard
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../user_interfaces/tasks/">
            
                <a href="../user_interfaces/tasks/">
            
                    
                    Task Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="../user_interfaces/tasks/teachers.html">
            
                <a href="../user_interfaces/tasks/teachers.html">
            
                    
                    Teacher Tasks Dashboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="../user_interfaces/tasks/students.html">
            
                <a href="../user_interfaces/tasks/students.html">
            
                    
                    Student Tasks Dashboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.3" data-path="../user_interfaces/tasks/database.html">
            
                <a href="../user_interfaces/tasks/database.html">
            
                    
                    Tasks Database
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../exports/">
            
                <a href="../exports/">
            
                    
                    Data Exports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../setup/">
            
                <a href="../setup/">
            
                    
                    Setup
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../setup/importing-competency-maps.html">
            
                <a href="../setup/importing-competency-maps.html">
            
                    
                    Importing Competency Maps
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="./">
            
                <a href="./">
            
                    
                    Development
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.8.1" data-path="getting_started.html">
            
                <a href="getting_started.html">
            
                    
                    Getting Started with Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="contributing.html">
            
                <a href="contributing.html">
            
                    
                    Contributing Improvements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="releases.html">
            
                <a href="releases.html">
            
                    
                    Making a Release
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="deployment.html">
            
                <a href="deployment.html">
            
                    
                    Deploying a Release
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Getting Started with Development</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="getting-started-with-development">Getting Started with Development</h1>
<h2 id="launch-local-development-studio">Launch local development studio</h2>
<ol>
<li><p>Install habitat</p>
<pre><code class="lang-bash"> curl <span class="hljs-_">-s</span> https://raw.githubusercontent.com/habitat-sh/habitat/master/components/hab/install.sh | sudo bash
</code></pre>
</li>
<li><p>Set up habitat</p>
<p> When prompted, enter <code>slate</code> as your default origin and choose yes to generate a key</p>
<pre><code class="lang-bash"> hab setup
</code></pre>
</li>
<li><p>Clone <code>slate-cbl</code> repository and all submodules</p>
<pre><code class="lang-bash"> git <span class="hljs-built_in">clone</span> --recursive -b develop git@github.com:SlateFoundation/slate-cbl.git
</code></pre>
</li>
<li><p>Change into cloned <code>slate-cbl</code> directory</p>
<pre><code class="lang-bash"> <span class="hljs-built_in">cd</span> ./slate-cbl
</code></pre>
</li>
<li><p>Ensure repository and all submodules are initialized and up-to-date</p>
<pre><code class="lang-bash"> ./pull
</code></pre>
</li>
<li><p>Launch Habitat studio</p>
<p> If you&apos;re working in <em>Visual Studio Code</em>, just run the task <code>studio:launch</code> to open a configured and persistent studio. Otherwise you&apos;ll need to launch a Habitat studio manually from a terminal.</p>
<p> On Mac or Windows, the <code>HAB_DOCKER_OPTS</code> environment variable must be configured to pass additional options through to Docker to expose the development web server outside the studio container:</p>
<pre><code class="lang-bash"> <span class="hljs-built_in">export</span> HAB_DOCKER_OPTS=<span class="hljs-string">&quot;-p 7080:7080 -p 7081:7081 -p 3306:3306&quot;</span>
</code></pre>
<p> Then on any system, launch the studio with:</p>
<pre><code class="lang-bash"> hab studio enter
</code></pre>
<p> Review the notes printed to your terminal at the end of the studio startup process for a list of all available studio commands.</p>
</li>
</ol>
<h2 id="bootstrap-and-develop-backend">Bootstrap and develop backend</h2>
<ol>
<li><p>Start environment services</p>
<p> Use the studio command <code>start-all</code> to launch the http server (nginx), the application runtime (php-fpm), and a local mysql server:</p>
<pre><code class="lang-bash"> start-all
</code></pre>
<p> At this point, you should be able to open <a href="http://localhost:7080" target="_blank">localhost:7080</a> and see the error message <code>Page not found</code>.</p>
</li>
<li><p>Build environment</p>
<p> To build the entire environment and load it, use the studio command <code>update-site</code>:</p>
<pre><code class="lang-bash"> update-site
</code></pre>
<p> At this point, <a href="http://localhost:7080" target="_blank">localhost:7080</a> should display the current build of the site</p>
</li>
<li><p>Load fixture data into site database (optional)</p>
<pre><code class="lang-bash"> <span class="hljs-comment"># clone fixture branch into git-ignored .data/ directory</span>
 git <span class="hljs-built_in">clone</span> -b cbl/competencies https://github.com/SlateFoundation/slate-fixtures.git .data/fixtures

 <span class="hljs-comment"># load all .sql files from fixture</span>
 cat .data/fixtures/*.sql | load-sql -
</code></pre>
<p> The standard fixture data includes the following users, all with passwords matching their usernames:</p>
<ul>
<li><code>system</code></li>
<li><code>admin</code></li>
<li><code>teacher</code></li>
<li><code>student</code></li>
<li><code>teacher2</code></li>
<li><code>student2</code></li>
</ul>
</li>
<li><p>Enable user registration form (optional)</p>
<pre><code class="lang-bash"> <span class="hljs-comment"># write class configuring enabling registration</span>
 mkdir -p php-config/Emergence/People
 <span class="hljs-built_in">echo</span> <span class="hljs-string">&apos;&lt;?php Emergence\People\RegistrationRequestHandler::$enableRegistration = true;&apos;</span> &gt; php-config/Emergence/People/RegistrationRequestHandler.config.php

 <span class="hljs-comment"># rebuild environment</span>
 update-site
</code></pre>
<p> After visiting <a href="http://localhost:7080/register" target="_blank"><code>/register</code></a> and creating a new user account, you can use the studio command <code>promote-user</code> to upgrade the user account you just registered to the highest access level:</p>
<pre><code class="lang-bash"> promote-user &lt;myuser&gt;
</code></pre>
</li>
</ol>
<p>After editing code in the working tree, run the studio command <code>update-site</code> to rebuild and update the environment. A <code>watch-site</code> command is also available to automatically rebuild and update the environment as changes are made to the working tree.</p>
<h2 id="bootstrap-and-develop-frontend-apps">Bootstrap and develop frontend apps</h2>
<p>Each frontend Sencha application needs to be built at least once with the Sencha CMD build tool to scaffold/update a set of loader files. After that, you can just edit files the working tree and reload the browser. The two exceptions where you need to build again are changing the list of packages or changing the list of override files.</p>
<p>There is a shortcut studio command for building each frontend application:</p>
<ul>
<li><code>build-enroll-admin</code></li>
<li><code>build-demos-teacher</code></li>
<li><code>build-demos-student</code></li>
<li><code>build-tasks-manager</code></li>
<li><code>build-tasks-teacher</code></li>
<li><code>build-tasks-student</code></li>
</ul>
<p>Once built, the live-editable version of each app can be accessed via the static web server that the studio runs on port <code>7081</code>. The backend host must be provided to the apps via the <code>?apiHost</code> query parameter. Any remote backend with CORS enabled will work, or you can use the local backend:</p>
<ul>
<li><a href="http://localhost:7081/SlateStudentCompetenciesAdmin/?apiHost=localhost:7080" target="_blank"><code>localhost:7081/SlateStudentCompetenciesAdmin/?apiHost=localhost:7080</code></a></li>
<li><a href="http://localhost:7081/SlateDemonstrationsTeacher/?apiHost=localhost:7080" target="_blank"><code>localhost:7081/SlateDemonstrationsTeacher/?apiHost=localhost:7080</code></a></li>
<li><a href="http://localhost:7081/SlateDemonstrationsStudent/?apiHost=localhost:7080" target="_blank"><code>localhost:7081/SlateDemonstrationsStudent/?apiHost=localhost:7080</code></a></li>
<li><a href="http://localhost:7081/SlateTasksManager/?apiHost=localhost:7080" target="_blank"><code>localhost:7081/SlateTasksManager/?apiHost=localhost:7080</code></a></li>
<li><a href="http://localhost:7081/SlateTasksTeacher/?apiHost=localhost:7080" target="_blank"><code>localhost:7081/SlateTasksTeacher/?apiHost=localhost:7080</code></a></li>
<li><a href="http://localhost:7081/SlateTasksStudent/?apiHost=localhost:7080" target="_blank"><code>localhost:7081/SlateTasksStudent/?apiHost=localhost:7080</code></a></li>
</ul>
<h2 id="client-side-ui-application-documentation">Client-side UI application documentation</h2>
<p>View the latest docs online at <a href="http://slatefoundation.github.io/slate-cbl/" target="_blank">http://slatefoundation.github.io/slate-cbl/</a></p>
<p>To update these docs, run <code>build.sh</code> and then <code>publish.sh</code> within <code>sencha-workspace/docs</code></p>
<h2 id="connecting-to-a-server">Connecting to a server</h2>
<p>You can connect to any remote slate-cbl instance that has CORS enabled by appending the query
parameter <code>apiHost</code> when loading the page.</p>
<h2 id="running-tests">Running tests</h2>
<p><a href="https://www.cypress.io/" target="_blank">Cypress</a> is used to provide browser-level full-stack testing. The <code>package.json</code> file at the root of the repository specifies the dependencies for running the test suite and all the configuration/tests for Cypress are container in the <code>cypress/</code> tree at the root of the repository.</p>
<p>To get started, from a terminal <strong>outside the studio</strong> in the root of the repository:</p>
<pre><code class="lang-bash"><span class="hljs-comment"># install development tooling locally</span>
npm install

<span class="hljs-comment"># launch cypress app</span>
npm run cypress:open
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Development">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="contributing.html" class="navigation navigation-next " aria-label="Next page: Contributing Improvements">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Getting Started with Development","level":"1.8.1","depth":2,"next":{"title":"Contributing Improvements","level":"1.8.2","depth":2,"path":"development/contributing.md","ref":"development/contributing.md","articles":[]},"previous":{"title":"Development","level":"1.8","depth":1,"path":"development/README.md","ref":"development/README.md","articles":[{"title":"Getting Started with Development","level":"1.8.1","depth":2,"path":"development/getting_started.md","ref":"development/getting_started.md","articles":[]},{"title":"Contributing Improvements","level":"1.8.2","depth":2,"path":"development/contributing.md","ref":"development/contributing.md","articles":[]},{"title":"Making a Release","level":"1.8.3","depth":2,"path":"development/releases.md","ref":"development/releases.md","articles":[]},{"title":"Deploying a Release","level":"1.8.4","depth":2,"path":"development/deployment.md","ref":"development/deployment.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["mermaid-gb3@git+https://github.com/themightychris/gitbook-plugin-mermaid-gb3.git"],"pluginsConfig":{"mermaid-gb3":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"development/getting_started.md","mtime":"2019-07-25T21:14:37.820Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-07-25T21:15:05.501Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-mermaid-gb3/book/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    <script src="../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.min.js"></script>

    </body>
</html>

