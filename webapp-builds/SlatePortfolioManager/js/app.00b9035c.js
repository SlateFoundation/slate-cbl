(function(e){function t(t){for(var n,l,i=t[0],r=t[1],c=t[2],u=0,m=[];u<i.length;u++)l=i[u],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&m.push(a[l][0]),a[l]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);d&&d(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],n=!0,i=1;i<s.length;i++){var r=s[i];0!==a[r]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=s[0]))}return e}var n={},a={app:0},o=[];function l(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=e,l.c=n,l.d=function(e,t,s){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(s,n,function(t){return e[t]}.bind(null,n));return s},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=r;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},1758:function(e,t,s){"use strict";s("f5b2")},"304d":function(e,t,s){},"36bf":function(e,t,s){},"40a8":function(e,t,s){"use strict";s("304d")},"56d7":function(e,t,s){"use strict";s.r(t);var n=s("2b0e"),a=s("5f5b"),o=s("ecee"),l=s("c074"),i=s("b702"),r=s("ad3d"),c=s("be92"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("router-view"),s("ui-root")],1)},u=[],m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.alert?s("div",[s("div",{staticClass:"modal-backdrop fade show"}),s("div",{staticClass:"modal",staticStyle:{display:"block"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body"},[e._v(" "+e._s(e.alert.body)+" ")]),s("div",{staticClass:"modal-footer"},e._l(e.alert.actions,(function(t,n){return s("button",{key:n,class:t.class||"btn btn-primary",attrs:{type:"button"},on:{click:t.click}},[e._v(" "+e._s(t.text)+" ")])})),0)])])])]):e._e()])},h=[],p=Object(c["c"])("ui",{state:()=>({alert:null,confirm:null}),actions:{alert(e){this.$state.alert=e},confirm(e,t){this.alert({body:e,actions:[{text:"Cancel",class:"btn btn-secondary",click:()=>this.alert(null)},{text:"Confirm",click:()=>{this.alert(null),t()}}]})}}}),f={computed:{...Object(c["d"])(p),alert(){return this.uiStore.$state.alert}}},v=f,b=s("2877"),g=Object(b["a"])(v,m,h,!1,null,null,null),y=g.exports,_={components:{UiRoot:y}},C=_,D=Object(b["a"])(C,d,u,!1,null,null,null),k=D.exports,w=s("8c4f"),S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.authStore.user?s("div",{attrs:{id:"app"}},[s("b-container",{staticClass:"p-0",attrs:{fluid:""}},[s("main",[s("competency-dropdown"),s("enrollments-grid",{attrs:{selected:e.selected},on:{select:e.handleSelect}})],1),s("b-sidebar",{attrs:{id:"sidebar","no-header":"",right:"",shadow:"",width:"375px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hide;return[s("advanced-portfolio-sidebar",{attrs:{selected:e.selected},on:{hide:n}})]}}],null,!1,1176179488),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}})],1)],1):e._e()},O=[],j=s("2ef0"),x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.studentCompetencyDetails?s("div",{class:["advanced-portfolio-sidebar-contents bg-white",{"block-loading":e.isLoading}]},[s("header",{staticClass:"p-3"},[s("b-row",{staticClass:"mb-2"},[s("b-col",[s("h1",{staticClass:"h4 my-1"},[e._v(" "+e._s(e.studentName)+" ")]),s("h2",{staticClass:"h6 text-muted m-0"},[s("b",[e._v(e._s(e.studentCompetencyDetails.Competency.Code)+":")]),e._v(" "+e._s(e.studentCompetencyDetails.Competency.Descriptor)+" ")])]),s("b-col",{attrs:{sm:"auto"}},[s("b-button",{staticClass:"mx-n2",attrs:{variant:"link",pill:""},on:{click:function(t){return e.$emit("hide")}}},[s("font-awesome-icon",{staticClass:"text-muted",attrs:{icon:"times"}})],1)],1)],1)],1),e.hasHiddenItems?s("div",{staticClass:"bg-light mt-n2 mb-3 px-3 py-2"},[s("b-form-checkbox",{attrs:{switch:""},model:{value:e.showHiddenItems,callback:function(t){e.showHiddenItems=t},expression:"showHiddenItems"}},[e._v(" Show hidden items ")])],1):e._e(),s("ol",{staticClass:"list-unstyled"},e._l(e.studentCompetencyDetails.data,(function(t){return s("li",{key:t.ID},[s("level-panel",{attrs:{portfolio:t,demonstrations:e.demonstrations,"skills-by-i-d":e.skillsByID,"show-hidden-items":e.showHiddenItems,"visible-levels":e.visibleLevels},on:{refetch:e.refetch}})],1)})),0)]):e._e()},$=[],I={getDisplayName(e){const{FirstName:t,LastName:s,MiddleName:n,PreferredName:a}=e,o=[t,a?`"${a}"`:n,s];return o.filter(Boolean).join(" ")}},L=s("b383"),E=s.n(L),U=s("bc3a"),A=s.n(U);const N=Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_API_BASE||"",P=()=>{const e=encodeURIComponent(window.location.href);window.location=`${N}/login?return=${e}`},R=(e={})=>{const t=e=>{const{status:t}=e.response||{};throw 401===t&&P(),e},s=A.a.create({baseURL:e.baseURL,withCredentials:!0,transformRequest(e,t){return Object.assign(t.post,{Accept:"application/json","Content-Type":"application/json"}),JSON.stringify(e)}});return s.defaults.headers.Accept="application/json",s.interceptors.response.use(e=>e.data,t),s};var H=R({baseURL:N});const M=e=>e;var B=({id:e,baseURL:t,actions:s={},getters:a={},fromServer:o=M})=>{const l={},i=e=>{let s=t;return e&&("object"===typeof e?(s+=t.includes("?")?"&":"?",s+=E.a.stringify(e)):s+=e),l[s]=l[s]||[],s};return Object(c["c"])(e,{baseURL:t,state:()=>({response:{},loading:{},error:{}}),getters:a,actions:{...s,isLoading(){return Object.values(this.$state.loading).find(e=>e)},get(e,t){return this.fetch(e,t),this.$state.response[i(e)]},fetch(e,t){const s=i(e);if(!t&&this.$state.response[s])return Promise.resolve(this.$state.response);if(this.$state.error[s])return Promise.reject(this.$state.error);if(this.$state.loading[s])return new Promise((e,t)=>l[s].push([e,t]));const a=e=>{Object.entries(e).forEach(([e,t])=>{n["default"].set(this.$state[e],s,t)}),Object.entries(this.$state.loading).forEach(([e,t])=>{t||delete this.$state.loading[e]})};return a({loading:!0}),H.get(s).then(e=>(a({loading:!1,response:o(e)}),l[s].forEach(([t])=>t(e)),l[s]=[],e)).catch(e=>{throw a({loading:!1,error:e}),l[s].forEach(([t,s])=>s(e)),l[s]=[],e})},refetch(e){return this.fetch(e,!0)},update(e){const t=i("/save");return n["default"].set(this.$state.loading,t,!0),H.post(t,e).then(e=>(n["default"].delete(this.$state.loading,t),e))}}})},T=B({id:"competency",baseURL:"/cbl/competencies"}),q=B({id:"demonstrationSkill",baseURL:"/cbl/demonstration-skills"}),G=B({id:"studentCompetency",baseURL:"/cbl/student-competencies"}),V=B({id:"demonstration",baseURL:"/cbl/demonstrations"}),F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.ready?s("div",{class:"level-panel mb-2 cbl-level-"+e.portfolio.Level},[s("b-container",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:e.collapseId,expression:"collapseId"}],staticClass:"bg-cbl-level-50"},[s("b-row",{staticClass:"py-2 align-items-center"},[s("b-col",[s("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"btn-unstyled d-flex"},[s("h3",{staticClass:"h6 m-0"},[e._v(" Year "+e._s(e.portfolio.Level)+" ")])])]),s("b-col",{attrs:{cols:"4"}},[s("skill-progress",{attrs:{value:e.portfolio.progress}})],1)],1)],1),s("b-collapse",{attrs:{id:e.collapseId,visible:""}},[s("b-container",{staticClass:"bg-cbl-level-25"},[s("b-row",{staticClass:"text-center py-2"},[s("b-col",[s("stat-figure",{attrs:{label:"Baseline"}},[e._v(" "+e._s(e.stats.baseline)+" ")])],1),s("b-col",[s("stat-figure",{attrs:{label:"Performance"}},[e._v(" "+e._s(e.stats.performance)+" ")])],1),s("b-col",[s("stat-figure",{attrs:{label:"Growth"}},[e._v(" "+e._s(e.stats.growth)+" ")])],1)],1)],1),e._l(e.preppedSkillDemos,(function(t){return s("skill-demos",e._b({key:t.SkillID,attrs:{demonstrations:e.demonstrations,"show-hidden-items":e.showHiddenItems,level:e.portfolio.Level,"visible-levels":e.visibleLevels},on:{refetch:function(t){return e.$emit("refetch")}}},"skill-demos",t,!1))}))],2)],1):e._e()},J=[],Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"skill-demos p-3 border-bottom bg-cbl-level-10"},[s("h4",{staticClass:"h6 skill-demos__heading"},[e._v(" "+e._s(e.skill.Code)+" "),s("span",{staticClass:"ml-1 text-black-50"},[e._v(" "+e._s(e.skill.Descriptor)+" ")])]),s("ol",{staticClass:"list-unstyled d-flex flex-column",staticStyle:{gap:"0.25rem"}},[0==e.skillDemos.length?s("li",{staticClass:"text-black-50 font-italic m-0"},[e._v(" No demonstrations recorded ")]):e._e(),e._l(e.skillDemos,(function(t){return s("skill-demo-card",{key:t.id,class:t.class,attrs:{demo:t,"show-hidden-items":e.showHiddenItems,level:e.level,"visible-levels":e.visibleLevels},on:{refetch:function(t){return e.$emit("refetch")}}})}))],2)])},z=[],K=s("b166"),Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.wrapperClass},[s("div",{staticClass:"skill-demo__rating py-1 bg-cbl-level"},[e.demo.Override?s("font-awesome-icon",{attrs:{icon:"check"}}):s("span",[e._v(e._s(0===e.demo.DemonstratedLevel?"M":e.demo.DemonstratedLevel))])],1),s("div",{staticClass:"skill-demo__title"},[e._v(" "+e._s(e.title)+" "),e.targetLevels.length?s("div",{staticClass:"skill-demo__controls"},[e._l(e.targetLevels,(function(t){return s("b-button",{key:t,attrs:{variant:"unstyled",title:"Move to level "+t},on:{click:function(s){return e.setTargetLevel(t)}}},[s("font-awesome-icon",{class:"cbl-level-"+t+" text-cbl-level",attrs:{icon:"chevron-circle-"+(t>e.level?"up":"down")}})],1)})),s("div",{staticClass:"skill-demo__grabber"}),s("b-button",{attrs:{variant:"unstyled"}},[s("font-awesome-icon",{staticClass:"text-info",attrs:{icon:"info-circle"}})],1)],2):e._e()]),s("div",{staticClass:"skill-demo__date text-black-50 mr-2"},[e._v(" "+e._s(e.demo.date)+" ")])])},W=[],X={props:{visibleLevels:{type:Array,default:()=>[]},demo:{type:Object,default:()=>({})},level:{type:Number,default:()=>0}},computed:{...Object(c["d"])(q,p),targetLevels(){const e=this.visibleLevels.slice(),t=e.filter(e=>e>this.level),s=e.filter(e=>e<this.level),n=[];return t.length&&n.push(Math.min(...t)),s.length&&n.push(Math.max(...s)),n},title(){const{Context:e,Override:t}=this.demo;return t?"[Overridden]":e},wrapperClass(){return["align-items-baseline bg-white d-flex rounded shadow-sm skill-demo",0===this.demo.DemonstratedLevel&&"cbl-level-missing"]}},methods:{setTargetLevel(e){const{ID:t}=this.demo,s=[{ID:t,TargetLevel:e}],n=`Are you sure you want to move this to level ${e}?`,a=()=>{this.demonstrationSkillStore.update({data:s}).then(()=>this.$emit("refetch"))};this.uiStore.confirm(n,a)}}},Z=X,ee=(s("b10f"),Object(b["a"])(Z,Q,W,!1,null,"866eb34a",null)),te=ee.exports,se={components:{SkillDemoCard:te},props:{showHiddenItems:{type:Boolean,default:()=>!1},skill:{type:Object,default:()=>({})},level:{type:Number,default:()=>0},effectiveDemonstrationsData:{type:Array,default:()=>[]},ineffectiveDemonstrationsData:{type:Array,default:()=>[]},demonstrations:{type:Array,default:()=>[]},visibleLevels:{type:Array,default:()=>[]}},computed:{skillDemos(){const e=[],t=(t,s)=>{if(!s&&!this.showHiddenItems)return;const{DemonstratedLevel:n,ID:a,DemonstrationID:o,DemonstrationDate:l,Override:i}=t,r=this.demonstrations.find(e=>e.ID===o),{Comments:c}=r;let{Context:d}=r;r.StudentTask&&(d=r.StudentTask.Task.Title),e.push({ID:a,DemonstratedLevel:n,Context:d,Comments:c,date:Object(K["a"])(new Date(l),"MMM d"),effective:s,Override:i,class:["demonstration-skill",s?"-effective":"-ineffective"]})};return this.effectiveDemonstrationsData.forEach(e=>t(e,!0)),this.ineffectiveDemonstrationsData.forEach(e=>t(e,!1)),e}}},ne=se,ae=Object(b["a"])(ne,Y,z,!1,null,null,null),oe=ae.exports,le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-progress",e._b({attrs:{max:"1"}},"b-progress",e.$attrs,!1))},ie=[],re=(s("57da"),{}),ce=Object(b["a"])(re,le,ie,!1,null,"f961c804",null),de=ce.exports,ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("figure",{class:"stat-figure"},[s("figcaption",{staticClass:"stat-figure__label"},[e._t("label",(function(){return[s("span",{staticClass:"text-black-50"},[e._v(e._s(e.label))])]}))],2),s("div",{staticClass:"stat-figure__stat"},[e._t("default",(function(){return[s("span",{staticClass:"text-black-50"},[e._v("—")])]}))],2)])},me=[],he={props:{label:{type:String,default:""}}},pe=he,fe=(s("40a8"),Object(b["a"])(pe,ue,me,!1,null,"2f6496e6",null)),ve=fe.exports,be={components:{SkillDemos:oe,SkillProgress:de,StatFigure:ve},props:{visibleLevels:{type:Array,default:()=>[]},showHiddenItems:{type:Boolean,default:()=>!1},portfolio:{type:Object,default:()=>({})},demonstrations:{type:Array,default:()=>[]},skillsByID:{type:Object,default:()=>({})}},computed:{ready(){return 0!==this.demonstrations.length},stats(){const{BaselineRating:e,growth:t}=this.portfolio,s=e=>Number.isNaN(e)||void 0===e||null===e?"—":e.toFixed(1);return{baseline:s(e),growth:s(t),performance:s(e+t)}},collapseId(){return`level-${this.portfolio.ID}-collapse`},demonstrationsById(){const e={};return this.demonstrations.forEach(t=>{e[t.ID]=t}),e},preppedSkillDemos(){const e={},{effectiveDemonstrationsData:t,ineffectiveDemonstrationsData:s}=this.portfolio;return Object.entries(t).forEach(([t,s])=>{e[t]={SkillID:t,skill:this.skillsByID[t],effectiveDemonstrationsData:s,ineffectiveDemonstrationsData:[]}}),Object.entries(s).forEach(([t,s])=>{e[t]||(e[t]={SkillID:t,skill:this.skillsByID[t],effectiveDemonstrationsData:[]}),e[t].ineffectiveDemonstrationsData=s}),Object.values(e)}},methods:{getBackgroundStyle(e){return`background-color: #${this.levelColor}${Math.round(255*e).toString(16)}`}}},ge=be,ye=Object(b["a"])(ge,F,J,!1,null,null,null),_e=ye.exports,Ce={components:{LevelPanel:_e},props:{selected:{type:Object,default:()=>({})}},data(){return{showHiddenItems:!1}},computed:{...Object(c["d"])(T,V,G,q),visibleLevels(){const e=this.studentCompetencyDetails;return e?e.data.map(e=>e.Level):[]},competencies(){const e=this.$route.query.area,t=this.competencyStore.get("?limit=0&content_area="+e);return t&&t.data},studentName(){return I.getDisplayName(this.studentCompetencyDetails.Student)},hasHiddenItems(){return!!this.studentCompetencyDetails.data.find(e=>Object.keys(e.ineffectiveDemonstrationsData).length>0)},isLoading(){return this.studentCompetencyStore.isLoading()||this.demonstrationStore.isLoading()||this.demonstrationSkillStore.isLoading()},studentCompetencyDetailsUrl(){const{student:e,competency:t}=this.selected||{};return e&&t?"?limit=0&student="+e+"&competency="+t+"&include[]=demonstrationsAverage&include[]=growth&include[]=progress&include[]=Skills&include[]=effectiveDemonstrationsData&include[]=ineffectiveDemonstrationsData":null},studentCompetencyDetails(){const e=this.studentCompetencyDetailsUrl;return e&&this.studentCompetencyStore.get(e)},skillsByID(){const e={},{Skills:t}=this.studentCompetencyDetails.Competency;return t.forEach(t=>{e[t.ID]=t}),e},demonstrations(){const{studentCompetencyDetails:e}=this;if(!e)return null;const t=new Set;e.data.forEach(e=>{Object.values(e.effectiveDemonstrationsData).forEach(e=>{e.forEach(e=>{t.add(e.DemonstrationID)})}),Object.values(e.ineffectiveDemonstrationsData).forEach(e=>{e.forEach(e=>{t.add(e.DemonstrationID)})})});const s=this.demonstrationStore.get("?q=id:"+Array.from(t.values()).sort().join(",")+"&include[]=Creator&include[]=StudentTask.Task");return s&&s.data}},methods:{refetch(){return this.studentCompetencyStore.refetch(this.studentCompetencyDetailsUrl)}}},De=Ce,ke=Object(b["a"])(De,x,$,!1,null,null,null),we=ke.exports,Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slate-appheader"},[s("div",{staticClass:"slate-appheader__title"},[e._v(" Portfolio Manager ")]),s("div",[e._v(" Competency Area "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.area,expression:"area"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.area=t.target.multiple?s:s[0]}}},e._l(e.areaOptions,(function(t){return s("option",{key:t.Code,domProps:{value:t.Code}},[e._v(" "+e._s(t.Title)+" ")])})),0)]),s("div",[e._v(" Students "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.students,expression:"students"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.students=t.target.multiple?s:s[0]}}},e._l(e.studentOptions,(function(t){return s("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),0)])])},Oe=[],je=B({id:"contentArea",baseURL:"/cbl/content-areas"}),xe=B({id:"studentList",baseURL:"/people/*student-lists"});const $e=e=>({get(){return this.$route.query[e]},set(t){const{path:s,query:n}=this.$route;this.$router.replace({path:s,query:{...n,[e]:t}})}});var Ie={computed:{...Object(c["d"])(je,xe),area:$e("area"),students:$e("students"),areaOptions(){const e=this.contentAreaStore.get("?summary=true");return e&&e.data},studentOptions(){const e=this.studentListStore.get();return e&&e.data}}},Le=Ie,Ee=Object(b["a"])(Le,Se,Oe,!1,null,null,null),Ue=Ee.exports,Ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.studentCompetencies&&e.students&&e.competencies?s("table",{on:{mouseenter:e.highlightCells,mouseleave:e.highlightCells,mousemove:e.highlightCells}},[s("thead",[s("tr",[s("th",[e._v(" ")]),e._l(e.students,(function(t){return s("th",{key:t.Username,staticClass:"col-heading",class:{"-is-highlighted":e.shouldHighlightStudent(t.Username)},attrs:{"data-student":t.Username}},[s("div",{staticClass:"col-heading-clip"},[s("a",{staticClass:"col-heading-link",attrs:{href:"#"}},[s("div",{staticClass:"col-heading-text"},[e._v(" "+e._s(e.getDisplayName(t))+" ")])])])])}))],2)]),s("tbody",e._l(e.rows,(function(t){return s("tr",{key:t.Code},[s("th",{class:{"-is-highlighted":e.shouldHighlightCompetency(t.Code)},attrs:{"data-competency":t.Code}},[e._v(" "+e._s(t.Descriptor)+" ")]),e._l(t.values,(function(n,a){return s("td",{key:a,class:e.getCellClass(t,e.students[a],n),attrs:{"data-competency":t.Code,"data-student":e.students[a].Username},on:{click:function(s){return e.$emit("select",{competency:t.Code,student:e.students[a].Username})}}},[e._v(" "+e._s(n)+" "),s("div",{staticClass:"outline"})])}))],2)})),0)]):s("div",[e._v(" Select a list of students and a content area to load enrollments dashboard ")])},Ne=[],Pe=B({id:"student",baseURL:"/people/*students"}),Re={props:{selected:{type:Object,default:()=>({})}},data(){return{hoveredCell:{domCache:null,student:"",competency:""}}},computed:{...Object(c["d"])(T,Pe,G),competencies(){const{area:e}=this.$route.query,t=this.competencyStore.get("?limit=0&content_area="+e);return t&&t.data},students(){const{students:e}=this.$route.query,t=this.studentStore.get("?limit=0&list="+e);return t&&t.data},studentCompetencies(){const{area:e,students:t}=this.$route.query;if(!e||!t)return null;const s=this.studentCompetencyStore.get({limit:0,students:t,content_area:e});return s&&s.data},rows(){if(!this.students||!this.competencies)return null;const e=this.students.map(e=>e.ID);return this.competencies.map(t=>{const{ID:s,Descriptor:n,Code:a}=t,o=Object(j["range"])(e.length).map(()=>0);return this.studentCompetencies.forEach(t=>{const n=e.indexOf(t.StudentID);t.CompetencyID===s&&-1!==n&&(o[n]=Math.max(o[n]||0,t.Level))}),{Descriptor:n,values:o,Code:a,ID:s}})}},methods:{getCellClass(e,t,s){const n=this.selected||{},{Code:a}=e,{Username:o}=t,l=a===n.competency&&o===n.student;return[`cbl-level-${s} bg-cbl-level-50 text-white`,l&&"-is-selected"]},highlightCells(e){const t=e.target.closest("td, th");t!==this.hoveredCell.domCache&&(this.hoveredCell.domCache=t,t?(Vue.set(this.hoveredCell,"student",t.dataset.student),Vue.set(this.hoveredCell,"competency",t.dataset.competency)):(Vue.set(this.hoveredCell,"student",""),Vue.set(this.hoveredCell,"competency","")))},shouldHighlightStudent(e){const t=this.selected||{};return this.hoveredCell.student===e||t.student===e},shouldHighlightCompetency(e){const t=this.selected||{};return this.hoveredCell.competency===e||t.competency===e},getDisplayName(e){return I.getDisplayName(e)}}},He=Re,Me=(s("1758"),Object(b["a"])(He,Ae,Ne,!1,null,"1a685b87",null)),Be=Me.exports,Te=s("73ba"),qe=s.n(Te);const Ge="app_config_storage",Ve={sidebarIsOpen:!1,enrollmentGridSelection:void 0},Fe={...Ve,...qe.a.get(Ge)};var Je=Object(c["c"])("config",{state:()=>Fe,actions:{set(e,t){this.$state[e]=t,qe.a.set(Ge,this.$state)},toggleSidebar(){this.$state.sidebarIsOpen=!this.$state.sidebarIsOpen}}}),Ye=B({id:"auth",baseURL:"/login?include=Person",getters:{user(){const e=this.get();return e&&e.data.Person},token(){const e=this.get();return e&&e.data.Handle}},actions:{async required(){await this.fetch();const{user:e}=this;e||P()}}}),ze={name:"AdvancedPortfolioManager",components:{AdvancedPortfolioSidebar:we,CompetencyDropdown:Ue,EnrollmentsGrid:Be},computed:{...Object(c["d"])(Ye,Je),selected(){return this.configStore.$state.enrollmentGridSelection},visible:{get(){return!!this.selected},set(e){e||this.configStore.set("enrollmentGridSelection",null)}}},async mounted(){await this.authStore.required()},methods:{handleSelect(e){Object(j["isEqual"])(e,this.selected)?this.configStore.set("enrollmentGridSelection",null):this.configStore.set("enrollmentGridSelection",e)}}},Ke=ze,Qe=Object(b["a"])(Ke,S,O,!1,null,null,null),We=Qe.exports;const Xe=[{path:"/",component:We}];n["default"].use(w["a"]);var Ze=new w["a"]({routes:Xe});s("f9e3"),s("2dd8"),s("a89b");o["c"].add(l["a"],l["b"],l["d"],l["c"],l["e"],l["f"],i["a"]),n["default"].component("FontAwesomeIcon",r["a"]),n["default"].use(a["a"]),window.Vue=n["default"],n["default"].use(c["a"]);const et=Object(c["b"])();new n["default"]({render:e=>e(k),pinia:et,router:Ze}).$mount("#app")},"57da":function(e,t,s){"use strict";s("36bf")},6505:function(e,t,s){},a89b:function(e,t,s){},b10f:function(e,t,s){"use strict";s("6505")},f5b2:function(e,t,s){}});
//# sourceMappingURL=app.00b9035c.js.map