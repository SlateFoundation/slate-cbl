<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">Ext.define(&#39;SlateTasksStudent.view.TaskFiltersMenu&#39;, {
    extend: &#39;Ext.menu.Menu&#39;,
    xtype: &#39;slatetasksstudent-taskfiltersmenu&#39;,

    plain: true,
    showSeparator: false,
    defaults: {
        xtype: &#39;menucheckitem&#39;
    },

    items: [
        {
            xtype: &#39;component&#39;,
            cls: &#39;slate-menu-header&#39;,
            html: &#39;Status&#39;
        },
        {
            text: &#39;Due Tasks&#39;,
            filterGroup: &#39;Status&#39;,
            filterFn: function(rec) {
                return rec.get(&#39;TaskStatus&#39;) !== &#39;assigned&#39;;
            }
        },
        {
            text: &#39;Revision Tasks&#39;,
            filterGroup: &#39;Status&#39;,
            filterFn: function(rec) {
                return rec.get(&#39;TaskStatus&#39;) !== &#39;re-assigned&#39;;
            }
        },
        {
            text: &#39;Submitted Tasks&#39;,
            filterGroup: &#39;Status&#39;,
            filterFn: function(rec) {
                return !(rec.get(&#39;TaskStatus&#39;) === &#39;submitted&#39; || rec.get(&#39;TaskStatus&#39;) === &#39;re-submitted&#39;);
            }
        },
        {
            text: &#39;Completed Tasks&#39;,
            filterGroup: &#39;Status&#39;,
            filterFn: function(rec) {
                return rec.get(&#39;TaskStatus&#39;) !== &#39;completed&#39;;
            }
        },
        {
            xtype: &#39;component&#39;,
            cls: &#39;slate-menu-header&#39;,
            html: &#39;Timeline&#39;
        },
        {
            text: &#39;Past Due&#39;,
            filterGroup: &#39;Timeline&#39;,
            filterFn: function(rec) {
                var now = new Date(),
                    due = rec.get(&#39;DueDate&#39;);

                return !due || rec.get(&#39;DueDate&#39;) &gt;= now;
            }
        },
        {
            text: &#39;Due Today&#39;,
            filterGroup: &#39;Timeline&#39;,
            filterFn: function(rec) {
                var now = new Date(),
                    due = rec.get(&#39;DueDate&#39;);

                return !due || due.toDateString() !== now.toDateString();
            }
        },
        {
            text: &#39;Due This Week&#39;,
            filterGroup: &#39;Timeline&#39;,
            filterFn: function(rec) {
                var now = new Date(),
                    due = rec.get(&#39;DueDate&#39;);

                return !due || Ext.Date.getWeekOfYear(rec.get(&#39;DueDate&#39;)) !== Ext.Date.getWeekOfYear(now);
            }
        },
        {
            text: &#39;Due Next Week&#39;,
            filterGroup: &#39;Timeline&#39;,
            filterFn: function(rec) {
                var now = new Date(),
                    due = rec.get(&#39;DueDate&#39;);

                return !due || Ext.Date.getWeekOfYear(rec.get(&#39;DueDate&#39;)) !== Ext.Date.getWeekOfYear(now)+1;
            }
        },
        { xtype: &#39;menuseparator&#39; },
        {
            xtype: &#39;container&#39;,
            padding: 8,
            layout: {
                type: &#39;hbox&#39;,
                pack: &#39;center&#39;
            },
            items: [
                {
                    xtype: &#39;button&#39;,
                    itemId: &#39;view-all&#39;,
                    text: &#39;View All&#39;
                }
            ]
        }
    ]
});
</pre>
</body>
</html>
