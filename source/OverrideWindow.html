<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/*jslint browser: true, undef: true *//*global Ext*/
Ext.define(&#39;SlateDemonstrationsTeacher.view.OverrideWindow&#39;, {
    extend: &#39;Ext.window.Window&#39;,
    xtype: &#39;slate-demonstrations-teacher-skill-overridewindow&#39;,
    requires: [
        &#39;SlateDemonstrationsTeacher.view.OverrideWindowController&#39;,

        &#39;Slate.cbl.API&#39;,

        &#39;Slate.cbl.model.Skill&#39;,
        &#39;Slate.cbl.model.Student&#39;,

        &#39;Ext.form.field.TextArea&#39;
    ],

    controller: &#39;slate-demonstrations-teacher-skill-overridewindow&#39;,

    config: {
        student: null,
        standard: null
    },

    title: &#39;Override Standard&#39;,
    width: 400,
    minWidth: 400,
    layout: {
        type: &#39;vbox&#39;,
        align: &#39;stretch&#39;
    },
    items: [
        {
            reference: &#39;summary&#39;,

            xtype: &#39;component&#39;,
            padding: &#39;16 32 0&#39;,
            tpl: [
                &#39;&lt;p&gt;&lt;strong&gt;Student:&lt;/strong&gt; {student.FullName}&lt;/p&gt;&#39;,
                &#39;&lt;p&gt;&lt;strong&gt;Standard:&lt;/strong&gt; &lt;em&gt;{standard.Code}&lt;/em&gt; &amp;mdash; {standard.Statement}&lt;/p&gt;&#39;
            ]
        },
        {
            reference: &#39;commentsField&#39;,
            flex: 1,

            xtype: &#39;textarea&#39;,
            fieldLabel: &#39;Comments&#39;
        },
        {
            xtype: &#39;button&#39;,
            text: &#39;Submit&#39;,
            scale: &#39;large&#39;,
            action: &#39;submit&#39;
        }
    ],


    // config handlers
    applyStudent: function(student) {
        if (!student) {
            return null;
        }

        return student.isModel ? student : Slate.cbl.API.getSession().getRecord(Slate.cbl.model.Student, student);
    },

    applyStandard: function(standard) {
        if (!standard) {
            return null;
        }

        return standard.isModel ? standard : Slate.cbl.API.getSession().getRecord(Slate.cbl.model.Skill, standard);
    }
});
</pre>
</body>
</html>
